graph TD
    subgraph "Services"
        AdminService["Admin Service"]
        UserService["User Service"]
    end

    subgraph "Kafka Topics"
        MessageTopic["Message Topic <br/> (broadcast-events-*)"]
        ActionTopic["Action Topic <br/> (broadcast-actions)"]
    end

    subgraph "Consumers in User Service"
        MessageConsumer["Message Consumer"]
        ActionConsumer["Action Consumer"]
    end

    AdminService -- "Publishes CREATED Event" --> MessageTopic
    AdminService -- "Publishes EXPIRED/CANCELLED Events" --> ActionTopic
    UserService -- "Publishes READ Event" --> ActionTopic

    MessageTopic --> MessageConsumer
    ActionTopic --> ActionConsumer

    MessageConsumer -- "Handles New Message Delivery" --> Logic1[...]
    ActionConsumer -- "Handles Cache Cleanup & UI Updates" --> Logic2[...]