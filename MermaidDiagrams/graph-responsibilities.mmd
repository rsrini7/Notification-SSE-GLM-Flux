flowchart TD
    root(("🎯 Service Responsibilities Architecture"))

    %% --- Admin Service (Unchanged) ---
    root --> AdminService["🔧 Admin Service - Control Plane"]
    AdminService --> BroadcastLifecycle["🟦 Broadcast Lifecycle Management"]
    AdminService --> UserTargeting["🟪 User Targeting & Pre-computation"]
    AdminService --> EventGeneration["🟨 Event Generation - Messaging"]
    AdminService --> DLTManagement["🟧 DLT Management - Dead Letter Topics"]
    AdminService --> AdminAnalytics["🟩 Admin Analytics & Queries"]

    %% --- User Service (Modified) ---
    root --> UserService["🚀 User Service - Delivery Plane"]
    UserService --> SSEConnection["🟦 SSE Connection Management"]
    UserService --> EventConsumption["🟪 Event Consumption - Message Processing"]
    EventConsumption --> Orchestrator["👑 Orchestrator (Kafka Consumer)"]
    EventConsumption --> RedisListeners["👷 Message Listeners (Redis)"]
    EventConsumption --> LoadDistribution["⚖️ Load Distribution Logic"]
    UserService --> DistributedState["🟨 Distributed State - User Tracking"]
    UserService --> UserActions["🟧 Handle User Actions - Interactions"]
    UserService --> UserSpecificData["🟩 Serve User-Specific Data"]

    %% --- Shared Components (Unchanged) ---
    root --> SharedComponents["🔗 Shared Components - Common Infrastructure"]
    SharedComponents --> BroadcastSharedModule["🟦 broadcast-shared Module"]
    SharedComponents --> SharedInfrastructure["🟪 Shared Infrastructure - Backend Services"]