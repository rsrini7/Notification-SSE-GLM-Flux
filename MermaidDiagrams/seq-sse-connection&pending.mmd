sequenceDiagram
    participant UserUI as User UI (Browser)
    participant UserSvc as User Service
    participant SseSvc as SSE Service
    participant Geode as Geode Cache
    
    UserUI->>+UserSvc: 1- GET /api/user/sse/connect
    UserSvc->>+SseSvc: 2- createEventStream()
    SseSvc->>+Geode: 3- Register Connection<br/>(in 'user-connections' & 'connection-heartbeat' regions)
    Geode-->>-SseSvc: Success
    
    loop For each pending event
        SseSvc->>UserUI: 4- Push pending message via SSE
    end
    
    SseSvc->>+Geode: 5- DELETE processed pending events from region
    Geode-->>-SseSvc: Success
    SseSvc-->>-UserSvc: Returns Event Stream to controller
    UserSvc-->>-UserUI: 6- Connection established (200 OK)
    
    Note over UserUI, SseSvc: 7- SSE connection remains open for<br/>new real-time messages and heartbeats.