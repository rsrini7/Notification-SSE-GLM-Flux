graph TD
    subgraph "Frontend"
        FrontendApp["React Frontend <br/> (broadcast-frontend)"]
    end

    subgraph "Backend Services"
        AdminService["Admin Service <br/> (broadcast-admin-service)"]
        UserService["User Service <br/> (broadcast-user-service)"]
        SharedLib["Shared Library <br/> (broadcast-shared)"]
    end

    subgraph "Infrastructure"
        Kafka["Kafka"]
        Postgres["PostgreSQL"]
        Redis["Redis"]
    end

    AdminService -- "Depends on" --> SharedLib
    UserService -- "Depends on" --> SharedLib

    FrontendApp -- "API & SSE Calls" --> UserService
    FrontendApp -- "API Calls" --> AdminService

    AdminService -- "Produces to" --> Kafka
    AdminService -- "Reads/Writes" --> Postgres

    UserService -- "Consumes from" --> Kafka
    UserService -- "Reads/Writes" --> Postgres
    UserService -- "Manages Connections in" --> Redis
    
    SharedLib -- "Provides code for" --> Kafka
    SharedLib -- "Provides code for" --> Postgres
    SharedLib -- "Provides code for" --> Redis